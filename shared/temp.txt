yarn run v1.22.21
$ node --max-old-space-size=4096 ./node_modules/.bin/tsc --project ./tsconfig.json 
constants/chat2/message.tsx(900,9): error TS2322: Type 'Message | undefined' is not assignable to type '{ readonly type: MessageType; readonly text?: { readonly stringValue: () => string; readonly toString: () => string; } | undefined; readonly inlineVideoPlayable?: boolean | undefined; readonly title?: string | undefined; readonly isCollapsed?: boolean | undefined; readonly previewURL?: string | undefined; readonly fileURL?: string | undefined; readonly previewHeight?: number | undefined; readonly previewWidth?: number | undefined; readonly attachmentType?: AttachmentType | undefined; readonly fileName?: string | undefined; readonly transferErrMsg?: string | undefined; readonly transferState?: MessageAttachmentTransferState; readonly fileType?: string | undefined; readonly unfurls?: ReadonlyMap<string, { readonly unfurlMessageID: number; readonly url: string; readonly unfurl: { readonly unfurlType: UnfurlType.generic; readonly generic: { readonly title: string; readonly url: string; readonly siteName: string; readonly favicon?: { readonly url: string; readonly height: number; readonly width: number; readonly isVideo: boolean; } | null | undefined; readonly media?: { readonly url: string; readonly height: number; readonly width: number; readonly isVideo: boolean; } | null | undefined; readonly publishTime?: number | null | undefined; readonly description?: string | null | undefined; readonly mapInfo?: { readonly coord: { readonly lat: number; readonly lon: number; readonly accuracy: number; }; readonly time: number; readonly liveLocationEndTime?: number | null | undefined; readonly isLiveLocationDone: boolean; } | null | undefined; }; } | { readonly unfurlType: UnfurlType.youtube; readonly youtube: {}; } | { readonly unfurlType: UnfurlType.giphy; readonly giphy: { readonly favicon?: { readonly url: string; readonly height: number; readonly width: number; readonly isVideo: boolean; } | null | undefined; readonly image?: { readonly url: string; readonly height: number; readonly width: number; readonly isVideo: boolean; } | null | undefined; readonly video?: { readonly url: string; readonly height: number; readonly width: number; readonly isVideo: boolean; } | null | undefined; }; } | { readonly unfurlType: UnfurlType.maps; }; readonly isCollapsed: boolean; }> | undefined; readonly downloadPath?: string | undefined; readonly author: string; readonly bodySummary: { readonly stringValue: () => string; readonly toString: () => string; }; readonly botUsername?: string | undefined; readonly cardType?: JourneycardType | undefined; readonly newChannelname?: string | undefined; readonly invitee?: string | undefined; readonly adder?: string | undefined; readonly prover?: string | undefined; readonly joiners?: readonly string[] | undefined; readonly leavers?: readonly string[] | undefined; readonly explodingUnreadable?: boolean | undefined; readonly conversationIDKey: string; readonly deviceRevokedAt?: number | undefined; readonly deviceName?: string | undefined; readonly deviceType?: DeviceType | undefined; readonly errorReason?: string | undefined; readonly errorTyp?: number | undefined; readonly exploded?: boolean | undefined; readonly exploding?: boolean | undefined; readonly explodingTime?: number | undefined; readonly explodedBy?: string | undefined; readonly hasBeenEdited?: boolean | undefined; readonly id: MessageID; readonly isDeleteable?: boolean | undefined; readonly isEditable?: boolean | undefined; readonly ordinal: Ordinal; readonly outboxID?: string | undefined; readonly reactions?: ReadonlyMap<string, { readonly decorated: string; readonly users: ReadonlySet<{ readonly timestamp: number; readonly username: string; }>; }> | undefined; readonly submitState?: "deleting" | "editing" | "pending" | "failed" | undefined; readonly timestamp: number; } | undefined'.
  Type 'MessageSystemNewChannel' is not assignable to type '{ readonly type: MessageType; readonly text?: { readonly stringValue: () => string; readonly toString: () => string; } | undefined; readonly inlineVideoPlayable?: boolean | undefined; readonly title?: string | undefined; readonly isCollapsed?: boolean | undefined; readonly previewURL?: string | undefined; readonly fileURL?: string | undefined; readonly previewHeight?: number | undefined; readonly previewWidth?: number | undefined; readonly attachmentType?: AttachmentType | undefined; readonly fileName?: string | undefined; readonly transferErrMsg?: string | undefined; readonly transferState?: MessageAttachmentTransferState; readonly fileType?: string | undefined; readonly unfurls?: ReadonlyMap<string, { readonly unfurlMessageID: number; readonly url: string; readonly unfurl: { readonly unfurlType: UnfurlType.generic; readonly generic: { readonly title: string; readonly url: string; readonly siteName: string; readonly favicon?: { readonly url: string; readonly height: number; readonly width: number; readonly isVideo: boolean; } | null | undefined; readonly media?: { readonly url: string; readonly height: number; readonly width: number; readonly isVideo: boolean; } | null | undefined; readonly publishTime?: number | null | undefined; readonly description?: string | null | undefined; readonly mapInfo?: { readonly coord: { readonly lat: number; readonly lon: number; readonly accuracy: number; }; readonly time: number; readonly liveLocationEndTime?: number | null | undefined; readonly isLiveLocationDone: boolean; } | null | undefined; }; } | { readonly unfurlType: UnfurlType.youtube; readonly youtube: {}; } | { readonly unfurlType: UnfurlType.giphy; readonly giphy: { readonly favicon?: { readonly url: string; readonly height: number; readonly width: number; readonly isVideo: boolean; } | null | undefined; readonly image?: { readonly url: string; readonly height: number; readonly width: number; readonly isVideo: boolean; } | null | undefined; readonly video?: { readonly url: string; readonly height: number; readonly width: number; readonly isVideo: boolean; } | null | undefined; }; } | { readonly unfurlType: UnfurlType.maps; }; readonly isCollapsed: boolean; }> | undefined; readonly downloadPath?: string | undefined; readonly author: string; readonly bodySummary: { readonly stringValue: () => string; readonly toString: () => string; }; readonly botUsername?: string | undefined; readonly cardType?: JourneycardType | undefined; readonly newChannelname?: string | undefined; readonly invitee?: string | undefined; readonly adder?: string | undefined; readonly prover?: string | undefined; readonly joiners?: readonly string[] | undefined; readonly leavers?: readonly string[] | undefined; readonly explodingUnreadable?: boolean | undefined; readonly conversationIDKey: string; readonly deviceRevokedAt?: number | undefined; readonly deviceName?: string | undefined; readonly deviceType?: DeviceType | undefined; readonly errorReason?: string | undefined; readonly errorTyp?: number | undefined; readonly exploded?: boolean | undefined; readonly exploding?: boolean | undefined; readonly explodingTime?: number | undefined; readonly explodedBy?: string | undefined; readonly hasBeenEdited?: boolean | undefined; readonly id: MessageID; readonly isDeleteable?: boolean | undefined; readonly isEditable?: boolean | undefined; readonly ordinal: Ordinal; readonly outboxID?: string | undefined; readonly reactions?: ReadonlyMap<string, { readonly decorated: string; readonly users: ReadonlySet<{ readonly timestamp: number; readonly username: string; }>; }> | undefined; readonly submitState?: "deleting" | "editing" | "pending" | "failed" | undefined; readonly timestamp: number; } | undefined'.
    Type 'MessageSystemNewChannel' is not assignable to type '{ readonly type: MessageType; readonly text?: { readonly stringValue: () => string; readonly toString: () => string; } | undefined; readonly inlineVideoPlayable?: boolean | undefined; readonly title?: string | undefined; readonly isCollapsed?: boolean | undefined; readonly previewURL?: string | undefined; readonly fileURL?: string | undefined; readonly previewHeight?: number | undefined; readonly previewWidth?: number | undefined; readonly attachmentType?: AttachmentType | undefined; readonly fileName?: string | undefined; readonly transferErrMsg?: string | undefined; readonly transferState?: MessageAttachmentTransferState; readonly fileType?: string | undefined; readonly unfurls?: ReadonlyMap<string, { readonly unfurlMessageID: number; readonly url: string; readonly unfurl: { readonly unfurlType: UnfurlType.generic; readonly generic: { readonly title: string; readonly url: string; readonly siteName: string; readonly favicon?: { readonly url: string; readonly height: number; readonly width: number; readonly isVideo: boolean; } | null | undefined; readonly media?: { readonly url: string; readonly height: number; readonly width: number; readonly isVideo: boolean; } | null | undefined; readonly publishTime?: number | null | undefined; readonly description?: string | null | undefined; readonly mapInfo?: { readonly coord: { readonly lat: number; readonly lon: number; readonly accuracy: number; }; readonly time: number; readonly liveLocationEndTime?: number | null | undefined; readonly isLiveLocationDone: boolean; } | null | undefined; }; } | { readonly unfurlType: UnfurlType.youtube; readonly youtube: {}; } | { readonly unfurlType: UnfurlType.giphy; readonly giphy: { readonly favicon?: { readonly url: string; readonly height: number; readonly width: number; readonly isVideo: boolean; } | null | undefined; readonly image?: { readonly url: string; readonly height: number; readonly width: number; readonly isVideo: boolean; } | null | undefined; readonly video?: { readonly url: string; readonly height: number; readonly width: number; readonly isVideo: boolean; } | null | undefined; }; } | { readonly unfurlType: UnfurlType.maps; }; readonly isCollapsed: boolean; }> | undefined; readonly downloadPath?: string | undefined; readonly author: string; readonly bodySummary: { readonly stringValue: () => string; readonly toString: () => string; }; readonly botUsername?: string | undefined; readonly cardType?: JourneycardType | undefined; readonly newChannelname?: string | undefined; readonly invitee?: string | undefined; readonly adder?: string | undefined; readonly prover?: string | undefined; readonly joiners?: readonly string[] | undefined; readonly leavers?: readonly string[] | undefined; readonly explodingUnreadable?: boolean | undefined; readonly conversationIDKey: string; readonly deviceRevokedAt?: number | undefined; readonly deviceName?: string | undefined; readonly deviceType?: DeviceType | undefined; readonly errorReason?: string | undefined; readonly errorTyp?: number | undefined; readonly exploded?: boolean | undefined; readonly exploding?: boolean | undefined; readonly explodingTime?: number | undefined; readonly explodedBy?: string | undefined; readonly hasBeenEdited?: boolean | undefined; readonly id: MessageID; readonly isDeleteable?: boolean | undefined; readonly isEditable?: boolean | undefined; readonly ordinal: Ordinal; readonly outboxID?: string | undefined; readonly reactions?: ReadonlyMap<string, { readonly decorated: string; readonly users: ReadonlySet<{ readonly timestamp: number; readonly username: string; }>; }> | undefined; readonly submitState?: "deleting" | "editing" | "pending" | "failed" | undefined; readonly timestamp: number; }'.
      Types of property 'text' are incompatible.
        Type 'string' is not assignable to type '{ readonly stringValue: () => string; readonly toString: () => string; }'.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
